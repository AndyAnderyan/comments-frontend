<div class="chat-modal">
  <div class="chat-header">
    <div class="chat-title">
      Обговорення обʼєкту: Київський навчальний заклад (Інфраструктура)
    </div>
    <button class="chat-icon-button" type="button" aria-label="Закрити">
      <span class="icon icon-close"></span>
    </button>
  </div>

  <div class="chat-columns">
    <aside class="chat-sidebar">
      <div class="sidebar-search">
        <span class="icon icon-search"></span>
        <input type="text" placeholder="Шукати серед коментарів..." />
      </div>

      <div class="sidebar-topics">
        @for (topic of topics; track topic.id) {
          <article class="topic-card" [class.topic-card--active]="topic.active">
            <header>
              <h4>{{ topic.title }}</h4>
              <time>{{ topic.date }}</time>
            </header>
            <p>{{ topic.preview }}</p>
          </article>
        }
      </div>

      <div class="sidebar-footer">
        <button class="btn btn-primary" type="button">
          <span class="icon icon-comments"></span>
          Створити тему
        </button>
      </div>
    </aside>

    <section class="chat-content">
      <div class="chat-timeline-label">Сьогодні</div>

      <div class="chat-message-list">
        @for (message of messages; track message.id) {
          <article
            class="message-card"
            [class.message-card--right]="message.align === 'end'"
          >
            <header>
              <span class="author">{{ message.author }}</span>
              <button class="chat-icon-button" type="button" aria-label="Опції">
                <span class="icon icon-more"></span>
              </button>
            </header>

            @if (message.reply) {
              <div class="message-reply">
                <div class="reply-line"></div>
                <div class="reply-content">
                  <div class="reply-author">{{ message.reply.author }}</div>
                  <div class="reply-text">
                    {{ message.reply.text }}
                  </div>
                </div>
              </div>
            }

            <p class="message-text">
              {{ message.text }}
            </p>

            <footer>
              <button class="link-button" type="button">Відповісти</button>
              <span class="message-time">{{ message.time }}</span>
            </footer>
          </article>
        }
      </div>

      <form class="chat-input-row">
        <label class="chat-input">
          <input type="text" placeholder="Напишіть коментар" />
        </label>
        <div class="chat-submit">
          <button class="btn btn-primary" type="button" aria-label="Надіслати">
            <span class="icon icon-send"></span>
          </button>
          <button class="btn btn-primary btn-primary--split" type="button" aria-label="Більше">
            <span class="icon icon-arrow-down"></span>
          </button>
        </div>
      </form>
    </section>
  </div>
</div>

